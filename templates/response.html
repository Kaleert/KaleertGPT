<!DOCTYPE html>
<html>
<head>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <title>{{ title }}</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link id="highlight-theme" rel="stylesheet" href="{{ url_for('static', filename='highlight/styles/onedark.css') }}">
      <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
      <style>
        pre code {
            padding: 0;
            margin: 0;
        }
        p {
            margin-bottom: 1em;
        }
        ul, ol {
            padding-left: 20px;
        }
        strong, b {
            font-weight: bold;
        }
        em, i {
            font-style: italic;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
      </style>
</head>
<body>
    <div id="snow-container"></div>
 <header class="header">
        <div class="container header-container">
            <div class="site-title-container">
                <h1 class="site-title">{{ BOT_NAME }}</h1>
            </div>
            <div class="logo-container">
                <a href="/"</a>
                <img src="{{ url_for('static', filename='logo.png') }}" alt="{{ BOT_NAME }} Logo" class="logo">
            </div>
            <nav class="header-nav">
                <div class="theme-switcher">
                    <button class="theme-button" id="theme-toggle">‚òÄÔ∏è</button>
                </div>
                {% if session.get('username') %}
                    <span class="nav-link">–ü—Ä–∏–≤–µ—Ç, {{ session['username'] }}!</span>
                    <a href="/profile" class="nav-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
                    <a href="/logout" class="nav-link">–í—ã–π—Ç–∏</a>
                {% else %}
                    <a href="/login" class="nav-link login-button-head">–í–æ–π—Ç–∏</a>
                {% endif %}
                <a href="/support" class="nav-link support-button">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
            </nav>
        </div>
    </header>
      <section class="response-section">
        <div class="container">
            <h1>{{ title }}</h1>
            <div id="response-container">
                {{ response_text | safe }}
            </div>
           <div class="share-section">
            <h2>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</h2>
               <div class="share-buttons">
                    <a href="https://vk.com/share.php?url={{ request.url }}" target="_blank">
                        <img src="{{ url_for('static', filename='icons/vk.png') }}" alt="Share on VK" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ">
                    </a>
                    <a href="https://t.me/share/url?url={{ request.url }}&text={{ title }}" target="_blank">
                        <img src="{{ url_for('static', filename='icons/telegram.png') }}" alt="Share on Telegram" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ Telegram">
                    </a>
                    <a href="https://api.whatsapp.com/send?text={{ request.url }}" target="_blank">
                        <img src="{{ url_for('static', filename='icons/whatsapp.png') }}" alt="Share on WhatsApp" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ WhatsApp">
                    </a>
                </div>
            </div>
        </div>
   </section>
   <footer class="footer">
    <div class="container footer-container">
       <div class="footer-logo-col">
          <div class="logo-container">
              <img src="{{ url_for('static', filename='logo.png') }}" alt="{{ BOT_NAME }} Logo" class="footer-logo">
               <span class="footer-text">{{ BOT_NAME }}, 2024</span>
          </div>
       </div>
        <div class="footer-payment-col">
            <span class="footer-text">QIWI</span>
            <span class="footer-text">Money</span>
            <span class="footer-text">–ú–ò–†</span>
        </div>
         <div class="footer-links-col">
              <h4 class="footer-col-title">–¢–µ–º—ã</h4>
              <ul class="footer-list">
                <li><a href="#" class="footer-link">Dark Theme</a></li>
                <li><a href="#" class="footer-link">Light Theme</a></li>
               </ul>
         </div>
      <div class="footer-links-col">
          <h4 class="footer-col-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
          <ul class="footer-list">
              <li><a href="#" class="footer-link">FAQ</a></li>
             <li><a href="#" class="footer-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
          </ul>
        </div>
        <div class="footer-links-col">
           <h4 class="footer-col-title">–ü–æ–ª–µ–∑–Ω–æ–µ</h4>
              <ul class="footer-list">
                <li><a href="#" class="footer-link">Telegram</a></li>
                <li><a href="#" class="footer-link">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
             </ul>
       </div>
    </div>
  </footer>
  <script src="{{ url_for('static', filename='main.js') }}"></script>
  <script src="{{ url_for('static', filename='highlight/highlight.js') }}"></script>
    <script>
        {{ languages_js | safe }}
          document.addEventListener('DOMContentLoaded', () => {
            const highlightThemeLink = document.getElementById('highlight-theme');
            const themeToggle = document.getElementById('theme-toggle');
            const root = document.documentElement;
            let isDarkTheme = false; // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–º—ã
             function setTheme(isDark) {
                if (isDark) {
                    root.style.setProperty('--background-color', '#282c34');
                    root.style.setProperty('--text-color', '#abb2bf');
                    root.style.setProperty('--code-background', '#282c34');
                    root.style.setProperty('--copy-button-bg', '#555');
                    root.style.setProperty('--copy-button-color', '#ccc');
                    root.style.setProperty('--collapse-button-bg', '#444');
                    highlightThemeLink.href = "{{ url_for('static', filename='highlight/styles/one-light.css') }}";
                    themeToggle.textContent = 'üåô';
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Ç–µ–º–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
                    document.querySelectorAll('.copy-button, .collapse-button').forEach(button => {
                        button.classList.add('dark-theme-button');
                    });
                } else {
                    root.style.setProperty('--background-color', '#f8f8f8');
                    root.style.setProperty('--text-color', '#333');
                    root.style.setProperty('--code-background', '#f8f8f8');
                    root.style.setProperty('--copy-button-bg', '#333');
                    root.style.setProperty('--copy-button-color', '#eee');
                    root.style.setProperty('--collapse-button-bg', '#ddd');
                    highlightThemeLink.href = "{{ url_for('static', filename='highlight/styles/onedark.css') }}";
                    themeToggle.textContent = '‚òÄÔ∏è';
                    // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Ç–µ–º–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
                    document.querySelectorAll('.copy-button, .collapse-button').forEach(button => {
                        button.classList.remove('dark-theme-button');
                    });
                }
                isDarkTheme = isDark;
                 hljs .highlightAll();
            }
            function addCopyButtonsAndCollapse(codeElement) {
                    let pre = codeElement.closest('pre');
                    if(!pre) return;
                    const buttonContainer = document.createElement('div');
                    buttonContainer.className = 'button-container';
                    const copyButton = document.createElement('button');
                    copyButton.className = 'copy-button';
                    copyButton.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
                    const code = pre.querySelector('code')?.textContent;
                    if(!code) return;
                    copyButton.addEventListener('click', () => {
                        if (navigator.clipboard) {
                            navigator.clipboard.writeText(code)
                                .then(() => {
                                    copyButton.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                                    setTimeout(() => copyButton.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 1500);
                                })
                                .catch(err => {
                                   showError("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: " + err, pre);
                                });
                        } else {
                            const tempInput = document.createElement('textarea');
                            tempInput.value = code;
                            document.body.appendChild(tempInput);
                            tempInput.select();
                            document.execCommand('copy');
                            document.body.removeChild(tempInput);
                            copyButton.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                            setTimeout(() => copyButton.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 1500);
                        }
                    });
                    const collapseButton = document.createElement('button');
                    collapseButton.className = 'collapse-button';
                    collapseButton.textContent = '–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å';
                    const content = $(pre).addClass('collapsible').wrapInner('<div class="content collapsed"></div>').find('.content');

                    collapseButton.addEventListener('click', function() {
                        content.toggleClass('collapsed');
                        this.textContent = content.hasClass('collapsed') ? '–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å' : '–°–≤–µ—Ä–Ω—É—Ç—å';
                    });

                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
                    if (content.hasClass('collapsed')) {
                         collapseButton.textContent = '–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å';
                     } else {
                        collapseButton.textContent = '–°–≤–µ—Ä–Ω—É—Ç—å';
                     }


                    buttonContainer.appendChild(copyButton);
                    buttonContainer.appendChild(collapseButton);
                     pre.appendChild(buttonContainer);
            }
             hljs.addPlugin({
                 'after:highlightElement': function(result){
                    addCopyButtonsAndCollapse(result.el);
                 }
             });
             hljs.highlightAll();


            setTheme(false);


            themeToggle.addEventListener('click', () => {
             setTheme(!isDarkTheme);
            });


             function showError(message, pre) {
                 const errorMessage = document.createElement('p');
                errorMessage.className = 'error-message';
                errorMessage.textContent = message;
                pre.parentNode.insertBefore(errorMessage, pre);
            }
        });
    </script>
<style>
/*  –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
.dark-theme-button {
    background-color: #333; /*  –ë–æ–ª–µ–µ —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
    color: #eee;         /*  –ë–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
    border: 1px solid #555;   /*  –†–∞–º–∫–∞ */
}

.dark-theme-button:hover {
    background-color: #555; /*  –§–æ–Ω –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    color: #fff;
}
</style>
</body>
</html>